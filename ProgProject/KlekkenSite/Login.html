<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link href="css/products.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>
<body>
<header>
    <div class="container">
        <div class="row">
            <a href="index.html" class="logo"><img src="images/klekken01.png" alt="Klekken-Logo" width="150px" height="75px"></a>
            <nav>
                <ul>
                    <li class="navText"><a href="index.html">Home</a></li>
                    <li class="navText"><a href="products.html">Products</a></li>
                    <li class="navText"><a id="activeTab" href="Login.html">Log-in</a></li>
                    <li class="navText"><a href="contact.html">Contact</a></li>
                    <li><a href="cart.html" class="cartIcon"><i class="fa fa-shopping-cart" style="font-size:25px"></i></a></li>
                </ul>
            </nav>
        </div>
    </div>
</header>

<div class="log-in">
    <div class="col-sm-12 text-center">
        <h2>Login and Registration</h2>
        <div class="sub-heading" />
    </div>
    <p>Login</p>
    <form class="login">
        <input type="text" placeholder="Enter Username" name="userid" id="user"/>
        <input type="password" Placeholder="Enter Password" name="pswrd" id="pass"/>

        <div class="loginButtons">
            <input type="button" onclick="checkuser()" value="Login" class="btn"/>
            <input type="reset" value="Cancel" class="btn"/>

        </div>
    </form>
</div>
<br />
<p>Registration</p>
<form class="register-form">
    <input id="username" type="text" placeholder="Enter desired Username" value=""/>
    <input id="password" type="password" placeholder="Enter desired Password" value=""/>
</form>
<form class="registerUser">
    <input id="registration_btn" type="button" value="Register" onClick="newUser()" class="btn"/>
</form>
<script>

    var test = [{user:"test",password:"test"}]; //array af brugere, (array af objekt(user,password))
    function checkuser() {
        var user =  document.getElementById("user").value; //Definering af variable user som henter værdi fra input
        var password =  document.getElementById("pass").value; ////Definering af variable password som henter værdi fra input

        var fulluser = test.find(x => x.user === user); //leder efter bruger i array
        if(fulluser != undefined && fulluser.user === user && fulluser.password === password) //checker om input findes og om det er korrekt
            alert("Success"); // pop-up om information er korrekt
        else{
            alert("Wrong username or password"); // pop-up om information er forkert
        }
    }

    function newUser() { // funktion til oprettelse af bruger
        var username = document.getElementById("username").value; //Definering af variable user som henter værdi fra input
        var password = document.getElementById("password").value; //Definering af variable password som henter værdi fra input

        if(username === "" || password === "") // checker om der mangler information
            alert("No username or password"); // pop-up om manglende information
        else{
            test.push({user: username, password: password}); // oprettelse af bruger
            document.getElementById("username").value = ""; // clear
            document.getElementById("password").value = ""; // clear
            alert(username + " Created!"); // pop-up som angiver om oprettelse af bruger
        }
    }
</script>

</body>
</html>
